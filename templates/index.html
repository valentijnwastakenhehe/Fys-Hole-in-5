<!DOCTYPE html>
<html>
  <head>
    <title>LDR Data</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js" integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ==" crossorigin="anonymous"></script>    <script type="text/javascript">
      var socket = io();
      socket.on('connect', function() {
        console.log('Connected to socket.io server');
      });

      socket.on('ldr_data', function(data) {
        var table = document.getElementById('ldr_data');
        var row = table.insertRow(-1);
        var timestampCell = row.insertCell(0);
        var ldr1Cell = row.insertCell(1);
        var ldr2Cell = row.insertCell(2);

        timestampCell.innerHTML = data.timestamp;
        ldr1Cell.innerHTML = data.ldr1;
        ldr2Cell.innerHTML = data.ldr2;
      });
    </script>
  </head>
  <body>
    <table id="ldr_data">
      <thead>
        <tr>
          <th>Timestamp</th>
          <th>LDR 1</th>
          <th>LDR 2</th>
        </tr>
      </thead>
      <tbody>
        {% for row in data %}
          <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </body>
</html>
